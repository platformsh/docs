!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("platformsh-client")):"function"==typeof define&&define.amd?define("userWidget",["platformsh-client"],t):"object"==typeof exports?exports.userWidget=t(require("platformsh-client")):e.userWidget=t(e["platformsh-client"])}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="/",t(t.s=4)}([function(e,t,n){"use strict";function r(e,t){var n,r,o,i,u=D;for(i=arguments.length;i-- >2;)S.push(arguments[i]);for(t&&null!=t.children&&(S.length||S.push(t.children),delete t.children);S.length;)if((r=S.pop())&&void 0!==r.pop)for(i=r.length;i--;)S.push(r[i]);else"boolean"==typeof r&&(r=null),(o="function"!=typeof e)&&(null==r?r="":"number"==typeof r?r=String(r):"string"!=typeof r&&(o=!1)),o&&n?u[u.length-1]+=r:u===D?u=[r]:u.push(r),n=o;var a=new x;return a.nodeName=e,a.children=u,a.attributes=null==t?void 0:t,a.key=null==t?void 0:t.key,void 0!==I.vnode&&I.vnode(a),a}function o(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t){return r(e.nodeName,o(o({},e.attributes),t),arguments.length>2?[].slice.call(arguments,2):e.children)}function u(e){!e._dirty&&(e._dirty=!0)&&1==z.push(e)&&(I.debounceRendering||P)(a)}function a(){var e,t=z;for(z=[];e=t.pop();)e._dirty&&N(e)}function s(e,t,n){return"string"==typeof t||"number"==typeof t?void 0!==e.splitText:"string"==typeof t.nodeName?!e._componentConstructor&&l(e,t.nodeName):n||e._componentConstructor===t.nodeName}function l(e,t){return e.normalizedNodeName===t||e.nodeName.toLowerCase()===t.toLowerCase()}function c(e){var t=o({},e.attributes);t.children=e.children;var n=e.nodeName.defaultProps;if(void 0!==n)for(var r in n)void 0===t[r]&&(t[r]=n[r]);return t}function p(e,t){var n=t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e);return n.normalizedNodeName=e,n}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e,t,n,r,o){if("className"===t&&(t="class"),"key"===t);else if("ref"===t)n&&n(null),r&&r(e);else if("class"!==t||o)if("style"===t){if(r&&"string"!=typeof r&&"string"!=typeof n||(e.style.cssText=r||""),r&&"object"==typeof r){if("string"!=typeof n)for(var i in n)i in r||(e.style[i]="");for(var i in r)e.style[i]="number"==typeof r[i]&&!1===E.test(i)?r[i]+"px":r[i]}}else if("dangerouslySetInnerHTML"===t)r&&(e.innerHTML=r.__html||"");else if("o"==t[0]&&"n"==t[1]){var u=t!==(t=t.replace(/Capture$/,""));t=t.toLowerCase().substring(2),r?n||e.addEventListener(t,h,u):e.removeEventListener(t,h,u),(e._listeners||(e._listeners={}))[t]=r}else if("list"!==t&&"type"!==t&&!o&&t in e){try{e[t]=null==r?"":r}catch(e){}null!=r&&!1!==r||"spellcheck"==t||e.removeAttribute(t)}else{var a=o&&t!==(t=t.replace(/^xlink:?/,""));null==r||!1===r?a?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.removeAttribute(t):"function"!=typeof r&&(a?e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):e.setAttribute(t,r))}else e.className=r||""}function h(e){return this._listeners[e.type](I.event&&I.event(e)||e)}function g(){for(var e;e=U.pop();)I.afterMount&&I.afterMount(e),e.componentDidMount&&e.componentDidMount()}function _(e,t,n,r,o,i){A++||(Q=null!=o&&void 0!==o.ownerSVGElement,Z=null!=e&&!("__preactattr_"in e));var u=y(e,t,n,r,i);return o&&u.parentNode!==o&&o.appendChild(u),--A||(Z=!1,i||g()),u}function y(e,t,n,r,o){var i=e,u=Q;if(null!=t&&"boolean"!=typeof t||(t=""),"string"==typeof t||"number"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||o)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),m(e,!0))),i.__preactattr_=!0,i;var a=t.nodeName;if("function"==typeof a)return C(e,t,n,r);if(Q="svg"===a||"foreignObject"!==a&&Q,a=String(a),(!e||!l(e,a))&&(i=p(a,Q),e)){for(;e.firstChild;)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),m(e,!0)}var s=i.firstChild,c=i.__preactattr_,f=t.children;if(null==c){c=i.__preactattr_={};for(var d=i.attributes,h=d.length;h--;)c[d[h].name]=d[h].value}return!Z&&f&&1===f.length&&"string"==typeof f[0]&&null!=s&&void 0!==s.splitText&&null==s.nextSibling?s.nodeValue!=f[0]&&(s.nodeValue=f[0]):(f&&f.length||null!=s)&&v(i,f,n,r,Z||null!=c.dangerouslySetInnerHTML),w(i,t.attributes,c),Q=u,i}function v(e,t,n,r,o){var i,u,a,l,c,p=e.childNodes,d=[],h={},g=0,_=0,v=p.length,b=0,w=t?t.length:0;if(0!==v)for(var M=0;M<v;M++){var j=p[M],L=j.__preactattr_,N=w&&L?j._component?j._component.__key:L.key:null;null!=N?(g++,h[N]=j):(L||(void 0!==j.splitText?!o||j.nodeValue.trim():o))&&(d[b++]=j)}if(0!==w)for(var M=0;M<w;M++){l=t[M],c=null;var N=l.key;if(null!=N)g&&void 0!==h[N]&&(c=h[N],h[N]=void 0,g--);else if(_<b)for(i=_;i<b;i++)if(void 0!==d[i]&&s(u=d[i],l,o)){c=u,d[i]=void 0,i===b-1&&b--,i===_&&_++;break}c=y(c,l,n,r),a=p[M],c&&c!==e&&c!==a&&(null==a?e.appendChild(c):c===a.nextSibling?f(a):e.insertBefore(c,a))}if(g)for(var M in h)void 0!==h[M]&&m(h[M],!1);for(;_<=b;)void 0!==(c=d[b--])&&m(c,!1)}function m(e,t){var n=e._component;n?O(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||f(e),b(e))}function b(e){for(e=e.lastChild;e;){var t=e.previousSibling;m(e,!0),e=t}}function w(e,t,n){var r;for(r in n)t&&null!=t[r]||null==n[r]||d(e,r,n[r],n[r]=void 0,Q);for(r in t)"children"===r||"innerHTML"===r||r in n&&t[r]===("value"===r||"checked"===r?e[r]:n[r])||d(e,r,n[r],n[r]=t[r],Q)}function M(e,t,n){var r,o=Y.length;for(e.prototype&&e.prototype.render?(r=new e(t,n),T.call(r,t,n)):(r=new T(t,n),r.constructor=e,r.render=j);o--;)if(Y[o].constructor===e)return r.nextBase=Y[o].nextBase,Y.splice(o,1),r;return r}function j(e,t,n){return this.constructor(e,n)}function L(e,t,n,r,o){e._disable||(e._disable=!0,e.__ref=t.ref,e.__key=t.key,delete t.ref,delete t.key,void 0===e.constructor.getDerivedStateFromProps&&(!e.base||o?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,r)),r&&r!==e.context&&(e.prevContext||(e.prevContext=e.context),e.context=r),e.prevProps||(e.prevProps=e.props),e.props=t,e._disable=!1,0!==n&&(1!==n&&!1===I.syncComponentUpdates&&e.base?u(e):N(e,1,o)),e.__ref&&e.__ref(e))}function N(e,t,n,r){if(!e._disable){var i,u,a,s=e.props,l=e.state,p=e.context,f=e.prevProps||s,d=e.prevState||l,h=e.prevContext||p,y=e.base,v=e.nextBase,b=y||v,w=e._component,j=!1,C=h;if(e.constructor.getDerivedStateFromProps&&(l=o(o({},l),e.constructor.getDerivedStateFromProps(s,l)),e.state=l),y&&(e.props=f,e.state=d,e.context=h,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(s,l,p)?j=!0:e.componentWillUpdate&&e.componentWillUpdate(s,l,p),e.props=s,e.state=l,e.context=p),e.prevProps=e.prevState=e.prevContext=e.nextBase=null,e._dirty=!1,!j){i=e.render(s,l,p),e.getChildContext&&(p=o(o({},p),e.getChildContext())),y&&e.getSnapshotBeforeUpdate&&(C=e.getSnapshotBeforeUpdate(f,d));var T,k,x=i&&i.nodeName;if("function"==typeof x){var S=c(i);u=w,u&&u.constructor===x&&S.key==u.__key?L(u,S,1,p,!1):(T=u,e._component=u=M(x,S,p),u.nextBase=u.nextBase||v,u._parentComponent=e,L(u,S,0,p,!1),N(u,1,n,!0)),k=u.base}else a=b,T=w,T&&(a=e._component=null),(b||1===t)&&(a&&(a._component=null),k=_(a,i,p,n||!y,b&&b.parentNode,!0));if(b&&k!==b&&u!==w){var D=b.parentNode;D&&k!==D&&(D.replaceChild(k,b),T||(b._component=null,m(b,!1)))}if(T&&O(T),e.base=k,k&&!r){for(var P=e,E=e;E=E._parentComponent;)(P=E).base=k;k._component=P,k._componentConstructor=P.constructor}}for(!y||n?U.unshift(e):j||(e.componentDidUpdate&&e.componentDidUpdate(f,d,C),I.afterUpdate&&I.afterUpdate(e));e._renderCallbacks.length;)e._renderCallbacks.pop().call(e);A||r||g()}}function C(e,t,n,r){for(var o=e&&e._component,i=o,u=e,a=o&&e._componentConstructor===t.nodeName,s=a,l=c(t);o&&!s&&(o=o._parentComponent);)s=o.constructor===t.nodeName;return o&&s&&(!r||o._component)?(L(o,l,3,n,r),e=o.base):(i&&!a&&(O(i),e=u=null),o=M(t.nodeName,l,n),e&&!o.nextBase&&(o.nextBase=e,u=null),L(o,l,1,n,r),e=o.base,u&&e!==u&&(u._component=null,m(u,!1))),e}function O(e){I.beforeUnmount&&I.beforeUnmount(e);var t=e.base;e._disable=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?O(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.nextBase=t,f(t),Y.push(e),b(t)),e.__ref&&e.__ref(null)}function T(e,t){this._dirty=!0,this.context=t,this.props=e,this.state=this.state||{},this._renderCallbacks=[]}function k(e,t,n){return _(n,e,{},!1,t,!1)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"h",function(){return r}),n.d(t,"createElement",function(){return r}),n.d(t,"cloneElement",function(){return i}),n.d(t,"Component",function(){return T}),n.d(t,"render",function(){return k}),n.d(t,"rerender",function(){return a}),n.d(t,"options",function(){return I});var x=function(){},I={},S=[],D=[],P="function"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,E=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,z=[],U=[],A=0,Q=!1,Z=!1,Y=[];o(T.prototype,{setState:function(e,t){this.prevState||(this.prevState=this.state),this.state=o(o({},this.state),"function"==typeof e?e(this.state,this.props):e),t&&this._renderCallbacks.push(t),u(this)},forceUpdate:function(e){e&&this._renderCallbacks.push(e),N(this,2)},render:function(){}});var R={h:r,createElement:r,cloneElement:i,Component:T,render:k,rerender:a,options:I};t.default=R},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=n(2),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={openState:e.defaultOpen,active:!!e.defaultOpen},n.toggle=n.toggle.bind(n),n}return i(t,e),u(t,[{key:"toggle",value:function(e){e.stopPropagation(),this.setState({openState:!this.state.openState,active:!this.state.active}),this.props.onClick&&this.props.onClick()}},{key:"render",value:function(e,t){var n=e.children,r=e.title,o=e.onClick,i=e.open,u=t.openState;return(0,a.h)("div",{class:"user-widget__collapsible"},(0,a.h)("button",{class:"user-widget__collapsible__top_bar "+(i&&"user-widget__collapsible__top_bar--active"),onClick:o||this.toggle,"aria-label":r},(0,a.h)("div",null,r),(0,a.h)("img",{class:""+(i&&"user-widget__dropdown__icon--open"),src:l.default,alt:"chevron"})),(0,a.h)("div",{class:"user-widget__collapsible__content "+((o?i:u)&&"user-widget__collapsible__content--open")},n))}}]),t}(a.Component);t.default=c},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iOHB4IiBoZWlnaHQ9IjhweCIgdmlld0JveD0iMCAwIDEyNS4zMDQgMTI1LjMwNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTI1LjMwNCAxMjUuMzA0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBvbHlnb24gc3R5bGU9ImZpbGw6IzAxMDAwMjsiIHBvaW50cz0iNjIuNjUyLDEwMy44OTUgMCwyMS40MDkgMTI1LjMwNCwyMS40MDkgCQkiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg=="},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){return(0,a.h)("div",null,"Loading...")}}]),t}(a.Component);t.default=s},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s,n=o({},s,t);(0,i.render)((0,i.h)(a.default,o({ref:c},n)),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateContext=void 0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.init=r;var i=n(0);n(5);var u=n(6),a=function(e){return e&&e.__esModule?e:{default:e}}(u),s={accountUrl:"https://accounts.platform.sh",source:"accounts",showProjectsMenu:!0,includeBilling:!0,includeSupport:!0,nameOrAvatar:!1,customAccountMenuItems:[],getQueryString:function(e){return{path:e}}},l=void 0,c=function(e){e&&(l=e)};t.updateContext=function(e){return l&&l.updateContext(e)};t.default=r},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=n(7),d=r(f),h=n(8),g=r(h),_=n(13),y=r(_),v=n(26),m=r(v),b=n(27),w=r(b),M=[{label:"User",value:"{accountUrl}/user"},{label:"Log Out",value:"{accountUrl}/user/logout"}],j=function(e,t){return e.filter(function(e){return e.group===t}).sort(function(e,t){return e.weight-t.weight})},L=function(e){function t(e){u(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isLoading:!0},n.toggleMegaMenu=n.toggleMegaMenu.bind(n),n.toggleProjectList=n.toggleProjectList.bind(n),n.getContext=n.getContext.bind(n),n.togglelinkList=n.togglelinkList.bind(n),n.accountMenu=[].concat(i(e.customAccountMenuItems),M),e.includeSupport&&n.accountMenu.splice(0,0,{label:"Support",value:"{accountUrl}/support"}),e.includeBilling&&n.accountMenu.splice(n.accountMenu.length-1,0,{label:"Billing",value:"{accountUrl}/user/orders"}),n}return s(t,e),c(t,[{key:"updateContext",value:function(e){this.getContext(e,this.state.isAdmin)}},{key:"componentDidMount",value:function(){var e=this;document.addEventListener("click",function(){e.setState({isMegaMenuOpen:!1,isProjectListOpen:!1,isLinkListOpen:!1})});var t=this.props.activateTalkus;fetch(this.props.accountUrl+"/api/platform/self",{credentials:"include"}).then(function(e){return e.json()}).then(function(n){t&&(0,m.default)(n),n.mail&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({email:n.mail}));var r=-1!==n.roles.indexOf("team member"),o="active"===localStorage.getItem("adminMode");e.setState({isAdmin:r,client:r&&o&&(0,w.default)(e.props.accountUrl,e.props.clientId),displayName:n.label,currentUsername:n.username,avatarUrl:n.picture,projects:n.projects,isLoading:!1}),localStorage.setItem("adminMode","disabled"),e.getContext(e.props,r),window.onhashchange=function(){e.getContext(e.props,r)}}).catch(function(){t&&(0,m.default)(),e.setState({isLoading:!1})})}},{key:"getContext",value:function(e,t){var n=this;if(!t)return!1;var r=e.source,o=e.getQueryString,i={context:l({source:r},o(window.location.pathname))};fetch(this.props.accountUrl+"/api/platform/admin/context?"+(0,d.default)(i),{credentials:"include"}).then(function(e){return e.json()}).then(function(e){n.setState({projectContext:{project:e._context.project,links:j(e.links,"Project")},userContext:{user:e._context.user,links:j(e.links,"User")},adminLinks:j(e.links,"Admin")})})}},{key:"toggleMegaMenu",value:function(e){var t=this;e.stopPropagation(),localStorage.setItem("adminMode","active"),this.setState(function(e){return{client:e.isAdmin&&(0,w.default)(t.props.accountUrl,t.props.clientId),isMegaMenuOpen:!e.isMegaMenuOpen,isProjectListOpen:!1,isLinkListOpen:!1}})}},{key:"toggleProjectList",value:function(){this.setState(function(e){return{isProjectListOpen:!e.isProjectListOpen,isMegaMenuOpen:!1,isLinkListOpen:!1}})}},{key:"togglelinkList",value:function(){this.setState(function(e){return{isLinkListOpen:!e.isLinkListOpen,isMegaMenuOpen:!1,isProjectListOpen:!1}})}},{key:"goToProject",value:function(e){var t=e.uri;window.location=t}},{key:"goToLink",value:function(e){var t=e.value;window.location=t}},{key:"render",value:function(e,t){var n=(e.clientId,e.accountUrl),r=e.showProjectsMenu,i=t.avatarUrl,u=t.client,a=void 0===u?{}:u,s=t.isMegaMenuOpen,c=t.isProjectListOpen,f=t.isLinkListOpen,d=t.displayName,h=t.projects,_=void 0===h?[]:h,v=t.isAdmin,m=t.isLoading,b=t.currentUsername,w=o(t,["avatarUrl","client","isMegaMenuOpen","isProjectListOpen","isLinkListOpen","displayName","projects","isAdmin","isLoading","currentUsername"]),M=w,j=void 0===M?{}:M,L=j.userContext&&j.userContext.user&&j.userContext.user.id;return(0,p.h)("div",{role:"button",style:{height:"100%"},onClick:function(e){return e.stopPropagation()},onKeyUp:function(e){return 13===e.keyCode&&e.stopPropagation()},tabIndex:"-1"},(0,p.h)(g.default,{isLoading:m,isAdmin:v,isMegaMenuOpen:s,isLinkListOpen:f,isProjectListOpen:c,displayName:d,showProjectsMenu:r,toggleProjectList:this.toggleProjectList,onClick:this.togglelinkList,onClickWheel:this.toggleMegaMenu,accountUrl:n,avatarUrl:i,nameOrAvatar:this.props.nameOrAvatar,projects:_,goToProject:this.goToProject,goToLink:this.goToLink,userId:L,accountMenu:this.accountMenu}),v&&(0,p.h)(y.default,l({open:s,currentUsername:b,client:a,accountUrl:n},j)))}}]),t}(p.Component);t.default=L},function(e,t,n){!function(t,n){e.exports=n()}(0,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";function r(e,t,n){return"object"===(void 0===t?"undefined":u(t))?""+i(t,n+""+e+(n&&"]")+"["):n&&n.length?""+n+e+"]="+encodeURIComponent(t):e+"="+encodeURIComponent(t)}function o(e,t,n){return t.map(function(t){return r(e,t,n)}).join("&")}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.keys(e).filter(function(t){return void 0!==e[t]}).map(function(n){return e[n]&&Array.isArray(e[n])?o(n,e[n],t):r(n,e[n],t)}).join("&").replace(/%20/g,"+")}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=i}])})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(9),c=r(l),p=n(10),f=r(p),d=n(11),h=r(d),g=n(12),_=r(g),y=function(e){function t(e){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return u(t,e),a(t,[{key:"render",value:function(e){var t=e.avatarUrl,n=e.displayName,r=e.onClick,o=e.onClickWheel,i=e.isAdmin,u=e.toggleProjectList,a=e.showProjectsMenu,l=e.isLoading,p=e.isMegaMenuOpen,d=e.isLinkListOpen,g=e.isProjectListOpen,y=e.accountUrl,v=e.projects,m=e.goToProject,b=e.goToLink,w=e.userId,M=e.accountMenu;return l||n?(0,s.h)("div",{class:"user-widget"},a&&(0,s.h)("div",{class:"dropdown-wrapper"},(0,s.h)("a",{class:"user-widget-nav-button user-widget__projects_menu_toggle "+(g&&"user-widget__projects_menu_toggle--active"),onClick:function(e){e.preventDefault(),u()},href:!0,"aria-haspopup":"true","aria-expanded":g},(0,s.h)("span",null,"Projects"),(0,s.h)("img",{src:_.default,alt:"chevron"})),(0,s.h)(c.default,{open:g,menuName:"user-widget__dropdown__menu--projects",onChange:m,values:v.reduce(function(e,t){return e[t.cluster_label]||(e[t.cluster_label]=[]),e[t.cluster_label].push({label:t.title,value:t.id,uri:t.uri}),e},{})})),(0,s.h)("div",{class:"dropdown-wrapper"+(this.props.nameOrAvatar?" name-or-pic":"")},this.props.nameOrAvatar?(0,s.h)("a",{class:"user-widget-nav-button user-widget__accounts_menu_toggle "+(d&&"user-widget__accounts_menu_toggle--active"),onClick:function(e){e.preventDefault(),r()},href:!0,"aria-haspopup":"true","aria-expanded":d},t&&!t.endsWith("user-default.png")?(0,s.h)("img",{class:"user-widget__avatar",src:t,alt:n}):(0,s.h)("div",{class:"user-widget__user_name"},n)):(0,s.h)("a",{class:"user-widget-nav-button user-widget__accounts_menu_toggle "+(d&&"user-widget__accounts_menu_toggle--active"),onClick:function(e){e.preventDefault(),r()},href:!0,"aria-haspopup":"true","aria-expanded":d},(0,s.h)("img",{class:"user-widget__avatar",src:t||y+"/profiles/blimp_profile/themes/bootstrap_accounts/images/user-default.png",alt:n}),(0,s.h)("div",{class:"user-widget__user_name"},n)),(0,s.h)(f.default,{open:d,menuName:"user-widget__dropdown__menu--account",onChange:b,values:M.map(function(e){return{label:e.label,value:e.value.replace("{userId}",w).replace("{accountUrl}",y)}})})),i&&(0,s.h)("a",{class:"user-widget-nav-button user-widget__toggle "+(p&&"user-widget__toggle--active"),onClick:function(e){e.preventDefault(),o(e)},href:!0,"aria-haspopup":"true","aria-expanded":p},(0,s.h)("img",{class:"user-widget__toggle_img",src:h.default,alt:"support"}))):(0,s.h)("div",{class:"user-widget",role:"menu"},(0,s.h)("a",{class:"user-widget__log-in",href:y,rel:"noopener noreferrer"},"Log in"),(0,s.h)("a",{class:"user-widget__free-trial",href:y+"/platform/trial/general/setup",rel:"noopener noreferrer"},(0,s.h)("strong",null,"Free Trial")))}}]),t}(s.Component);t.default=y},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:{}},n.onInputValueChange=n.onInputValueChange.bind(n),n.onClick=n.onClick.bind(n),n}return i(t,e),u(t,[{key:"onInputValueChange",value:function(e){this.setState({value:{value:e.target.value,label:e.target.value}})}},{key:"onClick",value:function(e,t){e.stopPropagation(),e.preventDefault(),this.props.onChange(t)}},{key:"render",value:function(e){var t=e.values,n=void 0===t?{}:t,r=e.open,o=e.style,i=e.itemStyle,u=e.menuName,s=Object.keys(n);return(0,a.h)("nav",{class:"user-widget__dropdown__menu "+(r&&"user-widget__dropdown__menu--open")+" "+u,style:o},s.length?s.map(function(e){return(0,a.h)("ul",{role:"menu"},(0,a.h)("li",{class:"user-widget__dropdown__menu__section",role:"menuitem"},e),n[e].map(function(e){return(0,a.h)("li",{role:"menuitem"},(0,a.h)("a",{class:"user-widget__dropdown__menu__list_item",style:i,href:e.uri,"aria-label":"projects",rel:"noopener noreferrer"},e.label))}))}):(0,a.h)("div",{class:"user-widget__dropdown__menu__list_item"},"No projects"))}}]),t}(a.Component);t.default=s},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={search:"",value:{}},n.onSearchChange=n.onSearchChange.bind(n),n.onInputValueChange=n.onInputValueChange.bind(n),n.onClick=n.onClick.bind(n),n.emptyInputText=n.emptyInputText.bind(n),n}return u(t,e),a(t,[{key:"onSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"onInputValueChange",value:function(e){this.setState({value:{value:e.target.value,label:e.target.value}})}},{key:"emptyInputText",value:function(){this.setState({value:{value:"",label:""}})}},{key:"onClick",value:function(e,t){e.stopPropagation(),e.preventDefault(),this.props.onChange(t)}},{key:"render",value:function(e,t){var n=this,o=e.values,i=void 0===o?[]:o,u=e.typeaHead,a=void 0!==u&&u,l=e.onChange,c=e.open,p=e.style,f=e.itemStyle,d=e.menuName,h=t.search,g=[].concat(r(i));return a&&(g=g.filter(function(e){return e.label===h})),(0,s.h)("nav",{class:"user-widget__dropdown__menu "+(c&&"user-widget__dropdown__menu--open")+" "+d,style:p},g&&!!g.length&&a&&(0,s.h)("input",{type:"text",onChange:this.onSearchChange,value:h}),(0,s.h)("ul",null,g.map(function(e){return(0,s.h)("li",null,(0,s.h)("a",{class:"user-widget__dropdown__menu__list_item",style:f,href:e.value,role:"menuitem","aria-label":"account links",rel:"noopener noreferrer"},e.label))})),(!g||!g.length)&&(0,s.h)("div",{class:"user-widget__dropdown__menu__input"},(0,s.h)("input",{value:this.state.value.value,onInput:this.onInputValueChange,type:"text",onClick:function(e){return e.stopPropagation()}}),(0,s.h)("button",{class:"widget__dropdown__menu__input__button",onClick:function(e){e.stopPropagation(),l(n.state.value),n.emptyInputText()}},"Ok")))}}]),t}(s.Component);t.default=l},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE2LjAuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4NCjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCINCgkgd2lkdGg9IjE2cHgiIGhlaWdodD0iMTZweCIgZmlsbD0iI2ZmZmZmZiIgdmlld0JveD0iMCAwIDU2OS4xNiA1NjkuMTYiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDU2OS4xNiA1NjkuMTY7Ig0KCSB4bWw6c3BhY2U9InByZXNlcnZlIj4NCjxnPg0KCTxnPg0KCQk8cGF0aCBkPSJNNTEzLjIxNywyMTYuMzY2Yy0xOC40MjcsMC0zMS4zMTgtNC41NjgtMzQuNDkyLTEyLjIxOGMtMy4xNy03LjY0NywyLjcwMi0xOS45ODIsMTUuNzA0LTMyLjk5OWwzMy4xMDktMzMuMTA5DQoJCQlsNi40OTMtNi40OTNsLTYuNDkzLTYuNDlsLTgzLjQ3NC04My40NGwtNi40OS02LjQ5bC02LjQ5LDYuNDlsLTMzLjA3OSwzMy4wODJjLTE0LjQyMiwxNC40MTktMjQuMDc2LDE2LjU3My0yOC41NDcsMTYuNTczDQoJCQljLTMuMjk1LDAtNS45MTUtMS4wODMtOC4yNC0zLjQxNWMtMy4xNTEtMy4xNjEtOC40MzQtMTEuNS04LjM5MS0zMS44NjRjMC0wLjM4Ni0wLjAyMS0wLjc2OC0wLjA2Ny0xLjE0N1Y5LjE4VjBoLTkuMThIMjI1LjU5OQ0KCQkJaC05LjE4djkuMTh2NDYuOTMxYy0wLjAyNCw4LjIyOS0xLjMsMzUuMTY2LTE2Ljc0MSwzNS4xNjZjLTQuNDY0LDAtMTQuMTA0LTIuMTU0LTI4LjUxOS0xNi41NzZsLTMzLjEwMy0zMy4wODVsLTYuNDktNi40ODcNCgkJCWwtNi40OSw2LjQ5bC04My40NCw4My40NGwtNi40ODcsNi40ODdsNi40ODQsNi40OWwzMy4wODIsMzMuMTEyYzEzLjAxOCwxMy4wMTEsMTguODk2LDI1LjM0MywxNS43MjksMzIuOTk2DQoJCQljLTMuMTcsNy42NS0xNi4wNDYsMTIuMjIyLTM0LjQ0NiwxMi4yMjJIOS4xOEgwdjkuMThWMzQzLjU4djkuMThoOS4xOGg0Ni44MTVjMTguMzk2LDAsMzEuMjczLDQuNTY4LDM0LjQ0MywxMi4yMTkNCgkJCWMzLjE3Myw3LjY1Ni0yLjcwNSwyMC4wMDQtMTUuNzIyLDMzLjAyNWwtMzMuMDc5LDMzLjA4bC02LjQ5LDYuNDlsNi40OSw2LjQ5Mmw4My40NCw4My40NzVsNi40OTMsNi40OTZsNi40OTQtNi40OTYNCgkJCWwzMy4wOTctMzMuMTEzYzE0LjQwNy0xNC40LDI0LjA0OS0xNi41NTEsMjguNTEtMTYuNTUxYzE1LjQ1LDAsMTYuNzI2LDI2LjkxOCwxNi43NSwzNS4xNjh2NDYuOTM2djkuMThoOS4xOGgxMTcuOTg0aDkuMTh2LTkuMTgNCgkJCXYtNDUuNjYyYzAuMDQ2LTAuMzc3LDAuMDY3LTAuNzUyLDAuMDY3LTEuMTM1Yy0wLjA0Mi0yMC4zNzMsNS4yMzktMjguNzEzLDguMzkxLTMxLjg3MWMyLjMyOS0yLjMzNCw0Ljk1MS0zLjQyLDguMjUtMy40Mg0KCQkJYzQuNDcxLDAsMTQuMTI1LDIuMTQ4LDI4LjU0NCwxNi41MzlsMzMuMDY5LDMzLjEwNGw2LjQ5LDYuNDk4bDYuNDkzLTYuNDk2bDgzLjQ3NC04My40NzFsNi40OTMtNi40OTJsLTYuNDk2LTYuNDk0DQoJCQlsLTMzLjExMi0zMy4wODJjLTEyLjk5OS0xMy4wMjMtMTguODcxLTI1LjM3My0xNS42OTgtMzMuMDIzYzMuMTc0LTcuNjQ4LDE2LjA2NS0xMi4yMTUsMzQuNDg5LTEyLjIxNWg0Ni43NjFoOS4xOHYtOS4xOFYyMjUuNTQ2DQoJCQl2LTkuMThoLTkuMThINTEzLjIxN3ogTTQxMy4xLDI4NC41OGMwLDcwLjg2Ny01Ny42NTMsMTI4LjUyLTEyOC41MiwxMjguNTJjLTcwLjg2NywwLTEyOC41Mi01Ny42NTItMTI4LjUyLTEyOC41Mg0KCQkJYzAtNzAuODY3LDU3LjY1My0xMjguNTIsMTI4LjUyLTEyOC41MkMzNTUuNDQ2LDE1Ni4wNiw0MTMuMSwyMTMuNzEzLDQxMy4xLDI4NC41OHoiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pg0KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE4LjEuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4Ig0KCSB3aWR0aD0iOHB4IiBoZWlnaHQ9IjhweCIgdmlld0JveD0iMCAwIDEyNS4zMDQgMTI1LjMwNCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTI1LjMwNCAxMjUuMzA0OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8Zz4NCgkJPHBvbHlnb24gc3R5bGU9ImZpbGw6I2ZmZmZmZjsiIHBvaW50cz0iNjIuNjUyLDEwMy44OTUgMCwyMS40MDkgMTI1LjMwNCwyMS40MDkgCQkiLz4NCgk8L2c+DQo8L2c+DQo8L3N2Zz4NCg=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(14),c=r(l),p=n(19),f=r(p),d=n(20),h=r(d),g=n(21),_=r(g),y=function(e){function t(){o(this,t);var e=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={},e.onFilterChange=e.onFilterChange.bind(e),e.loadEnvironment=e.loadEnvironment.bind(e),e}return u(t,e),a(t,[{key:"loadEnvironment",value:function(){var e=this,t=this.props.projectContext.project;if(!t||this.state.environment||this.state.environmentLoading)return!1;this.setState({environmentLoading:!0}),this.props.client.getEnvironment(t.id,"master").then(function(t){var n=t.getSshUrls();e.setState({environmentLoading:!1,environment:t,routesLinks:t.getRouteUrls(),sshLinks:Object.keys(n).map(function(e){return n[e].replace("ssh://","ssh ")})})})}},{key:"onFilterChange",value:function(e){var t=this;if(!e||!e.length)return!1;this.setState({isProjectListLoading:!0}),this.props.client.getSubscriptions(e,!0).then(function(e){t.setState({subscriptions:e,isProjectListLoading:!1})}).catch(function(){return t.setState({isProjectListLoading:!1})})}},{key:"render",value:function(e,t){var n=e.client,r=e.accountUrl,o=e.open,i=e.projectContext,u=void 0===i?{}:i,a=e.userContext,l=void 0===a?{}:a,p=e.adminLinks,d=void 0===p?[]:p,g=e.currentUsername,y=t.isProjectListLoading;return(0,s.h)("div",{class:"user-widget__mega_menu "+(o?"user-widget__mega_menu--open":"user-widget__mega_menu--close")},(0,s.h)("div",{class:"user-widget__mega_menu__projects"},(0,s.h)(c.default,{projects:this.state.subscriptions,isLoading:y,onFilterChange:this.onFilterChange,accountUrl:r})),(0,s.h)("div",{class:"user-widget__mega_menu__admin"},!!(u.project&&Object.keys(u.project).length>0||l.user&&Object.keys(l.user).length>0)&&(0,s.h)("div",{class:"user-widget__mega_menu__admin__context"},(0,s.h)("div",null,(0,s.h)("div",{class:"user-widget__mega_menu__admin--title"},"Current Info"),(0,s.h)(_.default,{username:g,client:n,accountUrl:r,projectContext:u,defaultOpen:u.project}),(0,s.h)(h.default,{userContext:l,defaultOpen:!u.project&&l.user}))),(0,s.h)("div",{class:"user-widget__mega_menu__admin__links"},(0,s.h)(f.default,{adminLinks:d}))))}}]),t}(s.Component);t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(15),c=r(l),p=n(17),f=r(p),d=n(18),h=r(d),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setState({entity:"projects"}),n.onFilterChange=n.onFilterChange.bind(n),n.onNameSeachChange=n.onNameSeachChange.bind(n),n.onNameSearch=n.onNameSearch.bind(n),n}return u(t,e),a(t,[{key:"changeEntity",value:function(e){var t=e.value;this.setState({entity:t})}},{key:"onFilterChange",value:function(e){this.setState({filters:e}),this.props.onFilterChange(e.filter(function(e){return!!e&&!!e.query}).map(function(e){return e.query}))}},{key:"onNameSeachChange",value:function(e){this.setState({searchText:e.target.value})}},{key:"onNameSearch",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.state.filters?this.state.filters.filter(function(e){return!!e&&!!e.query}).map(function(e){return e.query}):[],n=t.find(function(e,t){return"project_title"===t}),r=t.indexOf(n);-1===r?t.push({project_title:{operator:"CONTAINS",value:this.state.searchText}}):t[r]={project_title:{operator:"CONTAINS",value:this.state.searchText}},this.props.onFilterChange(t)}},{key:"render",value:function(e,t){var n=e.projects,r=e.accountUrl,o=e.isLoading,i=t.entity,u=t.searchText,a=!1;return"projects"===i&&(a=(0,s.h)(h.default,{isLoading:o,projects:n,accountUrl:r})),(0,s.h)("div",{class:"user-widget__mega_menu__search"},(0,s.h)("div",{class:"user-widget__mega_menu__search__title_bar"},(0,s.h)("div",{class:"user-widget__mega_menu__search__title_bar__left"},(0,s.h)("span",null,"Search"),(0,s.h)(f.default,{onChange:this.changeEntity,defaultValue:"projects",values:[{value:"projects",label:"Projects"}]})),(0,s.h)(c.default,{onChange:this.onNameSeachChange,value:u,onClick:this.onNameSearch})),!1,a)}}]),t}(s.Component);t.default=g},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=n(16),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyUp=n.onKeyUp.bind(n),n}return i(t,e),u(t,[{key:"onKeyUp",value:function(e){e.stopPropagation(),e.preventDefault(),13===e.keyCode&&this.props.onClick(e)}},{key:"render",value:function(e){var t=e.onChange,n=e.value,r=void 0===n?"":n,o=e.onClick;return(0,a.h)("div",{onSubmit:o,class:"user-widget__search_input"},(0,a.h)("input",{type:"text",class:"user-widget__search_input__input",placeholder:"Search by name...",onInput:t,value:r,onClick:function(e){return e.stopPropagation()},onkeyup:this.onKeyUp}),(0,a.h)("button",{class:"user-widget__search_input__button",onClick:o},(0,a.h)("img",{src:l.default,alt:"search"})))}}]),t}(a.Component);t.default=c},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiA/PjwhRE9DVFlQRSBzdmcgIFBVQkxJQyAnLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4nICAnaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkJz48c3ZnIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDUxMiA1MTIiIGhlaWdodD0iMTZweCIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgNTEyIDUxMiIgd2lkdGg9IjE2cHgiIHhtbDpzcGFjZT0icHJlc2VydmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjxnIGlkPSJMYXllcl82Ij48cGF0aCBkPSJNMjI4LDY4LjY3Yy02OC40OCwwLTEyNCw1NS41MS0xMjQsMTI0YzAsNjguNDgsNTUuNTIsMTI0LDEyNCwxMjRjNjguNDgsMCwxMjQtNTUuNTIsMTI0LTEyNCAgIEMzNTIsMTI0LjE4LDI5Ni40OCw2OC42NywyMjgsNjguNjd6IE0yMjgsMjgzLjI3Yy01MC4wNCwwLTkwLjYtNDAuNTY5LTkwLjYtOTAuNmMwLTUwLjA0LDQwLjU2LTkwLjYsOTAuNi05MC42ICAgczkwLjYsNDAuNTYsOTAuNiw5MC42QzMxOC42LDI0Mi43LDI3OC4wNCwyODMuMjcsMjI4LDI4My4yN3oiIGZpbGw9IiMxQTFBMUEiLz48Zz48cGF0aCBkPSJNMzkyLjc5MSw0MTQuMzA4YzYuMDk0LDkuMTU3LDQuMTE4LDIxLjI4My00LjM5MSwyNi45NDRjLTguNTA5LDUuNjYyLTIwLjQ1NywyLjgwMy0yNi41NTEtNi4zNTUgICAgbC04OC42NDEtMTMzLjIwNGMtNi4wOTQtOS4xNTgtNC4xMTgtMjEuMjgzLDQuMzkxLTI2Ljk0NGM4LjUxLTUuNjYyLDIwLjQ1OC0yLjgwMywyNi41NTIsNi4zNTVMMzkyLjc5MSw0MTQuMzA4eiIgZmlsbD0iIzFBMUExQSIvPjwvZz48L2c+PC9zdmc+Cg=="},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(2),c=function(e){return e&&e.__esModule?e:{default:e}}(l),p=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={open:!1,value:e.values.find(function(t){return t.value===e.defaultValue})||""},n.toggle=n.toggle.bind(n),n.onChange=n.onChange.bind(n),n.onSearchChange=n.onSearchChange.bind(n),n}return u(t,e),a(t,[{key:"onChange",value:function(e){this.setState({value:e}),this.props.onChange(e)}},{key:"toggle",value:function(e){e.stopPropagation(),this.setState({open:!this.state.open})}},{key:"onSearchChange",value:function(e){this.setState({search:e.target.value})}},{key:"render",value:function(e,t){var n=this,o=e.values,i=void 0===o?[]:o,u=e.typeaHead,a=void 0!==u&&u,l=t.value,p=t.open,f=t.search,d=[].concat(r(i));return a&&(d=d.filter(function(e){return e.label===f})),(0,s.h)("div",{class:"user-widget__dropdown"},(0,s.h)("button",{class:"user-widget__dropdown__label",onClick:this.toggle,onKeyUp:function(e){return 13===e.keyCode&&n.toggle}},(0,s.h)("span",null,l.label),(0,s.h)("img",{class:""+(p&&"user-widget__dropdown__icon--open"),src:c.default,alt:"chevron"})),(0,s.h)("div",{class:"user-widget__dropdown__menu "+(p&&"user-widget__dropdown__menu--open")},a&&(0,s.h)("input",{type:"text",onChange:this.onSearchChange,value:f}),d.map(function(e){return(0,s.h)("button",{class:"option",onClick:function(){return n.onChange(e)}},e.label)})))}}]),t}(s.Component);t.default=p},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(e){var t=e.projects,n=e.accountUrl,r=e.isLoading;return(0,a.h)("div",{class:"user-widget__list"},(0,a.h)("div",{class:"user-widget__list__label"},"Results"),(0,a.h)("div",{class:"user-widget__list__table"},(0,a.h)("div",{class:"user-widget__list__line"},(0,a.h)("div",{class:"user-widget__list__header"},"Name"),(0,a.h)("div",{class:"user-widget__list__header"},"Project Id"),(0,a.h)("div",{class:"user-widget__list__header"},"Owner"),(0,a.h)("div",{class:"user-widget__list__header user-widget__list__cell--small"},"Plan"),(0,a.h)("div",{class:"user-widget__list__header user-widget__list__cell--small"},"Links")),t&&t.map(function(e){return(0,a.h)("div",{class:"user-widget__list__line"},(0,a.h)("div",{class:"user-widget__list__cell"},e.project_title),(0,a.h)("div",{class:"user-widget__list__cell"},e.project_id),(0,a.h)("div",{class:"user-widget__list__cell"},(0,a.h)("a",{href:n+"/uuid/user/"+e.owner,rel:"noopener noreferrer"},e.owner)),(0,a.h)("div",{class:"user-widget__list__cell user-widget__list__cell--small"},e.plan),(0,a.h)("div",{class:"user-widget__list__cell user-widget__list__cell--small"},(0,a.h)("a",{href:e.project_ui,rel:"noopener noreferrer"},"Go to project")))}),r&&(0,a.h)("div",{class:"user-widget__list__empty"},(0,a.h)(l.default,null)),!1===r&&!t&&(0,a.h)("div",{class:"user-widget__list__empty"},"No projects were found.")))}}]),t}(a.Component);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggle=n.toggle.bind(n),n}return i(t,e),u(t,[{key:"toggle",value:function(e){this.setState({openPane:e})}},{key:"render",value:function(e,t){var n=this,r=e.adminLinks,o=void 0===r?[]:r,i=t.openPane,u=o.reduce(function(e,t){return e[t.section]||(e[t.section]=[]),e[t.section].push({url:t.url,label:t.label}),e},{});return(0,a.h)("div",null,(0,a.h)("div",{class:"user-widget__mega_menu__admin--title"},"Administration"),(0,a.h)("div",{class:"user-widget__mega_menu__admin__list"},Object.keys(u).sort().map(function(e){return(0,a.h)(l.default,{title:e,onClick:function(){return n.toggle(e)},open:i===e},(0,a.h)("ul",null,u[e].sort(function(e,t){return e.label>t.label}).map(function(e){return(0,a.h)("li",null,(0,a.h)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.label))})))})))}}]),t}(a.Component);t.default=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),s=n(1),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(e){var t=e.userContext,n=void 0===t?{}:t,r=e.defaultOpen,o=n.user,i=n.links;return!!o&&(0,a.h)(l.default,{title:"Current User",defaultOpen:r},(0,a.h)("div",{class:"user-widget__mega_menu__admin--info"},(0,a.h)("div",{class:"name"},o.display_name),(0,a.h)("div",{class:"id"},o.id),(0,a.h)("div",{class:"email"},o.mail)),(0,a.h)("ul",{class:"user-widget__mega_menu__admin--links"},i.map(function(e){return(0,a.h)("li",null,(0,a.h)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.label))})))}}]),t}(a.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(1),c=r(l),p=n(3),f=r(p),d=n(22),h=r(d),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.loadEnvironment=n.loadEnvironment.bind(n),n.toggleSshRoutes=n.toggleSshRoutes.bind(n),n.toggleHttpRoutes=n.toggleHttpRoutes.bind(n),n.togglePsssh=n.togglePsssh.bind(n),n}return u(t,e),a(t,[{key:"loadEnvironment",value:function(){var e=this,t=this.props.projectContext.project;if(!t||this.state.environment||this.state.environmentLoading)return!1;this.setState({environmentLoading:!0}),this.props.client.getEnvironment(t.project_id,"master").then(function(t){var n=t.getSshUrls();e.setState({environmentLoading:!1,environment:t,routesLinks:t.getRouteUrls(),sshLinks:Object.keys(n).map(function(e){return n[e].replace("ssh://","ssh ")})})})}},{key:"toggleSshRoutes",value:function(){this.loadEnvironment(),this.setState(function(e){return{sshRoutes:!e.sshRoutes,httpRoutes:!1,psssh:!1}})}},{key:"toggleHttpRoutes",value:function(){this.loadEnvironment(),this.setState(function(e){return{sshRoutes:!1,httpRoutes:!e.httpRoutes,psssh:!1}})}},{key:"togglePsssh",value:function(){this.loadEnvironment(),this.setState(function(e){return{sshRoutes:!1,httpRoutes:!1,psssh:!e.psssh}})}},{key:"render",value:function(e,t){var n=e.projectContext,r=void 0===n?{}:n,o=e.username,i=void 0===o?"":o,u=e.defaultOpen,a=t.routesLinks,l=void 0===a?[]:a,p=t.sshLinks,d=void 0===p?[]:p,g=t.environmentLoading,_=t.sshRoutes,y=t.httpRoutes,v=t.psssh,m=r.project,b=r.links;if(!m||0===Object.keys(m).length)return!1;var w='root.clusters["'+m.project_id+'"]',M="ssh "+i+"@psssh.eu.platform.sh",j=m.project_title&&m.project_title.length?m.project_title:"[ Untitled Project ]";return(0,s.h)(c.default,{title:"Current Project",defaultOpen:u},(0,s.h)("div",{class:"user-widget__mega_menu__admin--info"},(0,s.h)("div",{class:"name"},j),(0,s.h)("div",{class:"id"},m.project_id),(0,s.h)("div",{class:"size"},m.plan)),(0,s.h)("ul",{class:"user-widget__mega_menu__admin--links"},b.map(function(e){return(0,s.h)("li",null,(0,s.h)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},e.label))})),(0,s.h)("div",{class:"user-widget__mega_menu__admin--tips"},(0,s.h)(c.default,{title:"SSH Routes",onClick:this.toggleSshRoutes,open:_},g&&(0,s.h)(f.default,null),d.map(function(e){return(0,s.h)("div",null,(0,s.h)("input",{type:"text",class:"user-widget__collapsible__content__item",value:e}),(0,s.h)(h.default,{text:e}))})),(0,s.h)(c.default,{title:"HTTP Routes",onClick:this.toggleHttpRoutes,open:y},g&&(0,s.h)(f.default,null),l.map(function(e){return(0,s.h)("div",null,(0,s.h)("input",{type:"text",class:"user-widget__collapsible__content__item",value:e}),(0,s.h)(h.default,{text:e}))})),(0,s.h)(c.default,{title:"PSSSH",onClick:this.togglePsssh,open:v},(0,s.h)("div",null,(0,s.h)("input",{type:"text",class:"user-widget__collapsible__content__item",value:M}),(0,s.h)(h.default,{text:M})),(0,s.h)("div",null,(0,s.h)("input",{type:"text",class:"user-widget__collapsible__content__item",value:w}),(0,s.h)(h.default,{text:w})))))}}]),t}(s.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=n(23),c=r(l),p=n(25),f=r(p),d=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n.copy=n.copy.bind(n),n}return u(t,e),a(t,[{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"copy",value:function(e){var t=this;(0,c.default)(e),this.setState({copyd:!0}),this.timer=setTimeout(function(){return t.setState({copyd:!1})},1e3)}},{key:"render",value:function(e,t){var n=this,r=e.text,o=t.copyd;return(0,s.h)("div",{class:"user-widget__copy_to_clipboard"},(0,s.h)("button",{onClick:function(){return n.copy(r)}},(0,s.h)("img",{src:f.default,alt:"copy"})),o&&(0,s.h)("span",{class:"user-widget__copy_to_clipboard__info"},"copied to clipboard"))}}]),t}(s.Component);t.default=d},function(e,t,n){"use strict";function r(e){var t=(/mac os x/i.test(navigator.userAgent)?"⌘":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}function o(e,t){var n,o,a,s,l,c,p=!1;t||(t={}),n=t.debug||!1;try{a=i(),s=document.createRange(),l=document.getSelection(),c=document.createElement("span"),c.textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",document.body.appendChild(c),s.selectNode(c),l.addRange(s);if(!document.execCommand("copy"))throw new Error("copy command was unsuccessful");p=!0}catch(i){n&&console.error("unable to copy using execCommand: ",i),n&&console.warn("trying IE specific stuff");try{window.clipboardData.setData("text",e),p=!0}catch(i){n&&console.error("unable to copy using clipboardData: ",i),n&&console.error("falling back to prompt"),o=r("message"in t?t.message:u),window.prompt(o,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(s):l.removeAllRanges()),c&&document.body.removeChild(c),a()}return p}var i=n(24),u="Copy to clipboard: #{key}, Enter";e.exports=o},function(e,t){e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,n=[],r=0;r<e.rangeCount;r++)n.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||n.forEach(function(t){e.addRange(t)}),t&&t.focus()}}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4NCjwhLS0gU3ZnIFZlY3RvciBJY29ucyA6IGh0dHA6Ly93d3cub25saW5ld2ViZm9udHMuY29tL2ljb24gLS0+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iMTZweCIgaGVpZ2h0PSIxNnB4IiBmaWxsPSIjZmZmZmZmIiB2aWV3Qm94PSIwIDAgMTAwMCAxMDAwIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCAxMDAwIDEwMDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KPG1ldGFkYXRhPiBTdmcgVmVjdG9yIEljb25zIDogaHR0cDovL3d3dy5vbmxpbmV3ZWJmb250cy5jb20vaWNvbiA8L21ldGFkYXRhPg0KPGc+PHBhdGggZD0iTTY5MSwxNjAuOFYxMEgyNjkuNUMyMDYuMyw3Mi42LDE0My4xLDEzNS4yLDgwLDE5Ny44djY0MS40aDIyNy45Vjk5MEg5MjBWMTYwLjhINjkxeiBNMjY5LjUsNjQuNHYxMzQuNEgxMzMuMUMxNzguNSwxNTQsMjI0LDEwOS4yLDI2OS41LDY0LjR6IE0zMDcuOSw4MDEuMkgxMTcuNVYyMzYuOGgxOTAuNVY0Ny45aDM0NC41djExMi45aC0xNTRjLTYzLjUsNjIuOS0xMjcsMTI1LjktMTkwLjUsMTg4LjhWODAxLjJ6IE00OTkuNSwyMTUuMnYxMzQuNUgzNjMuMXYtMWM0NS4xLTQ0LjUsOTAuMi04OSwxMzUuMy0xMzMuNUw0OTkuNSwyMTUuMnogTTg4MS41LDk1MmgtNTM1VjM4Ni42SDUzOFYxOTguOGgzNDMuNVY5NTJ6Ii8+PC9nPg0KPC9zdmc+DQo="},function(e,t,n){"use strict";function r(e){if((new Date).getDay()%6!=0)if(function(e,t,n,r,o,i,u){e[o]||(e[o]=function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),u=t.getElementsByTagName(n)[0],i.async=1,i.src="//www.talkus.io/plugin.beta.js",u.parentNode.insertBefore(i,u))}(window,document,"script",0,"talkus"),talkus("primaryColor","#00b4ff","#ffffff"),talkus("loadingImage","https://platform.sh/themes/custom/platformsh/images/favicon.png"),void 0!=e){var t="";e.projects&&e.projects.forEach(function(e){t+=e.name+":\n"+e.uri+"\n"}),talkus("init","GRDz2pBK6TTTTkyFT",{id:e.uuid,name:e.label,accounts_url:"https://accounts.platform.sh/user/"+e.id,projects:t})}else talkus("init","GRDz2pBK6TTTTkyFT")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(29),i=function(e){return e&&e.__esModule?e:{default:e}}(o),u={};u="development"===e.env.NODE_ENV?{base_url:"https://accounts.internal.platform.sh",client_id:"platform@ui.psh.dev",access_token:"alice",redirect_uri:"http://localhost:3000/",authorization:"https://accounts.internal.platform.sh/oauth2/authorize"}:{base_url:"https://accounts.platform.sh",client_id:"user-widget@platform.sh"},t.default=function(e,t){return new i.default(r({},u,{base_url:e||u.account_url,client_id:t||u.client_id}))}}).call(t,n(28))},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function i(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function u(){g&&d&&(g=!1,d.length?h=d.concat(h):_=-1,h.length&&a())}function a(){if(!g){var e=o(u);g=!0;for(var t=h.length;t;){for(d=h,h=[];++_<t;)d&&d[_].run();_=-1,t=h.length}d=null,g=!1,i(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var c,p,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var d,h=[],g=!1,_=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new s(e,t)),1!==h.length||g||o(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,n){t.exports=e}])});
//# sourceMappingURL=index.js.map